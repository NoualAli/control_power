"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6624],{5714:(e,t,s)=>{s.d(t,{ZP:()=>g,l0:()=>w});var r=s(9669),a=s.n(r),o=Object.defineProperty,i=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,s)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,d=(e,t)=>{for(var s in t||(t={}))i.call(t,s)&&c(e,s,t[s]);if(n)for(var s of n(t))l.call(t,s)&&c(e,s,t[s]);return e};const u=e=>void 0===e,m=e=>Array.isArray(e),f=e=>e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice,p=(e,t,s,r)=>((t=t||{}).indices=!u(t.indices)&&t.indices,t.nullsAsUndefineds=!u(t.nullsAsUndefineds)&&t.nullsAsUndefineds,t.booleansAsIntegers=!u(t.booleansAsIntegers)&&t.booleansAsIntegers,t.allowEmptyArrays=!u(t.allowEmptyArrays)&&t.allowEmptyArrays,s=s||new FormData,u(e)||(null===e?t.nullsAsUndefineds||s.append(r,""):(e=>"boolean"==typeof e)(e)?t.booleansAsIntegers?s.append(r,e?1:0):s.append(r,e):m(e)?e.length?e.forEach(((e,a)=>{const o=r+"["+(t.indices?a:"")+"]";p(e,t,s,o)})):t.allowEmptyArrays&&s.append(r+"[]",""):(e=>e instanceof Date)(e)?s.append(r,e.toISOString()):!(e=>e===Object(e))(e)||(e=>f(e)&&"string"==typeof e.name&&("object"==typeof e.lastModifiedDate||"number"==typeof e.lastModified))(e)||f(e)?s.append(r,e):Object.keys(e).forEach((a=>{const o=e[a];if(m(o))for(;a.length>2&&a.lastIndexOf("[]")===a.length-2;)a=a.substring(0,a.length-2);p(o,t,s,r?r+"["+a+"]":a)}))),s);var v={serialize:p};function h(e){if(null===e||"object"!=typeof e)return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((s=>{t[s]=h(e[s])})),t}function _(e){return Array.isArray(e)?e:[e]}function y(e){return e instanceof File||e instanceof Blob||e instanceof FileList||"object"==typeof e&&null!==e&&void 0!==Object.values(e).find((e=>y(e)))}class b{constructor(){this.errors={},this.errors={}}set(e,t){"object"==typeof e?this.errors=e:this.set(d(d({},this.errors),{[e]:_(t)}))}all(){return this.errors}has(e){return Object.prototype.hasOwnProperty.call(this.errors,e)}hasAny(...e){return e.some((e=>this.has(e)))}any(){return Object.keys(this.errors).length>0}get(e){if(this.has(e))return this.getAll(e)[0]}getAll(e){return _(this.errors[e]||[])}only(...e){const t=[];return e.forEach((e=>{const s=this.get(e);s&&t.push(s)})),t}flatten(){return Object.values(this.errors).reduce(((e,t)=>e.concat(t)),[])}clear(e){const t={};e&&Object.keys(this.errors).forEach((s=>{s!==e&&(t[s]=this.errors[s])})),this.set(t)}}class w{constructor(e={}){this.originalData={},this.busy=!1,this.successful=!1,this.recentlySuccessful=!1,this.recentlySuccessfulTimeoutId=void 0,this.errors=new b,this.progress=void 0,this.update(e)}static make(e){return new this(e)}update(e){this.originalData=Object.assign({},this.originalData,h(e)),Object.assign(this,e)}fill(e={}){this.keys().forEach((t=>{this[t]=e[t]}))}data(){return this.keys().reduce(((e,t)=>d(d({},e),{[t]:this[t]})),{})}keys(){return Object.keys(this).filter((e=>!w.ignore.includes(e)))}startProcessing(){this.errors.clear(),this.busy=!0,this.successful=!1,this.progress=void 0,this.recentlySuccessful=!1,clearTimeout(this.recentlySuccessfulTimeoutId)}finishProcessing(){this.busy=!1,this.successful=!0,this.progress=void 0,this.recentlySuccessful=!0,this.recentlySuccessfulTimeoutId=setTimeout((()=>{this.recentlySuccessful=!1}),w.recentlySuccessfulTimeout)}clear(){this.errors.clear(),this.successful=!1,this.recentlySuccessful=!1,this.progress=void 0,clearTimeout(this.recentlySuccessfulTimeoutId)}reset(){Object.keys(this).filter((e=>!w.ignore.includes(e))).forEach((e=>{this[e]=h(this.originalData[e])}))}get(e,t={}){return this.submit("get",e,t)}post(e,t={}){return this.submit("post",e,t)}patch(e,t={}){return this.submit("patch",e,t)}put(e,t={}){return this.submit("put",e,t)}delete(e,t={}){return this.submit("delete",e,t)}submit(e,t,s={}){return this.startProcessing(),s=d({data:{},params:{},url:this.route(t),method:e,onUploadProgress:this.handleUploadProgress.bind(this)},s),"get"===e.toLowerCase()?s.params=d(d({},this.data()),s.params):(s.data=d(d({},this.data()),s.data),y(s.data)&&!s.transformRequest&&(s.transformRequest=[e=>v.serialize(e)])),new Promise(((e,t)=>{(w.axios||a()).request(s).then((t=>{this.finishProcessing(),e(t)})).catch((e=>{this.handleErrors(e),t(e)}))}))}handleErrors(e){this.busy=!1,this.progress=void 0,e.response&&this.errors.set(this.extractErrors(e.response))}extractErrors(e){return e.data&&"object"==typeof e.data?e.data.errors?d({},e.data.errors):e.data.message?{error:e.data.message}:d({},e.data):{error:w.errorMessage}}handleUploadProgress(e){this.progress={total:e.total,loaded:e.loaded,percentage:Math.round(100*e.loaded/e.total)}}route(e,t={}){let s=e;return Object.prototype.hasOwnProperty.call(w.routes,e)&&(s=decodeURI(w.routes[e])),"object"!=typeof t&&(t={id:t}),Object.keys(t).forEach((e=>{s=s.replace(`{${e}}`,t[e])})),s}onKeydown(e){const t=e.target;t.name&&this.errors.clear(t.name)}}w.routes={},w.errorMessage="Something went wrong. Please try again.",w.recentlySuccessfulTimeout=2e3,w.ignore=["busy","successful","errors","progress","originalData","recentlySuccessful","recentlySuccessfulTimeoutId"];const g=w},6624:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var r=s(6828),a=s(2904),o=s(629),i=s(5714),n=s(8181),l=s(7565);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function u(e,t,s){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const m={layout:"backend",middleware:["auth"],components:{ContentHeader:r.Z,ContentBody:a.Z,Notification:n.Z},metaInfo:function(){return{title:"Éxecution de la mission"}},data:function(){return{rowSelected:null,currentMetadata:{},isCompleted:!1,details:[],process:null,mission:null,form:new i.ZP({process_mode:!1,mission:null,process:null,rows:[]})}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){u(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({formErrorsCount:function(){return Object.entries(this.form.errors.all()).length}},(0,o.Se)({config:"details/config"})),breadcrumb:function(){var e;return{label:null===(e=this.process)||void 0===e?void 0:e.name}},created:function(){this.initData()},methods:{show:function(e){this.rowSelected=e,this.currentMetadata.keys=Object.keys(e.parsed_metadata)},close:function(){this.rowSelected=null},switchToExeMode:function(){this.isCompleted=!1,this.initData(!1),this.initForm()},initData:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$store.dispatch("details/fetchConfig",{missionId:this.$route.params.missionId,processId:this.$route.params.processId}).then((function(){e.details=e.config.config.details,e.mission=e.config.config.mission,e.process=e.config.config.process,e.isCompleted="-"!==e.details[0].executed_at&&t,e.isCompleted||e.initForm()}))},initForm:function(){var e=this;this.form.process_mode=(0,l.nu)(["cc","cdcr"]),this.form.mission=this.$route.params.missionId,this.form.process=this.$route.params.processId,this.details.forEach((function(t){e.form.rows.push({media:t.media.length?t.media.map((function(e){return e.id})):[],detail:t.id,report:t.report,recovery_plan:t.recovery_plan,score:t.score,major_fact:!!t.major_fact,metadata:t.metadata||[],process_mode:e.form.process_mode})}))},setupFields:function(e){return null==e?void 0:e.map((function(e){return{type:e.hasOwnProperty(0)?e[0].type:"",label:e.hasOwnProperty(1)?e[1].label:"",name:e.hasOwnProperty(2)?e[2].name:"",length:e.hasOwnProperty(3)?e[3].length:null,style:e.hasOwnProperty(4)?e[4].style:"",id:e.hasOwnProperty(5)?e[5].id:"",placeholder:e.hasOwnProperty(6)?e[6].placeholder:"",help_text:e.hasOwnProperty(7)?e[7].help_text:"",rules:e.hasOwnProperty(8)?e[8].rules:[]}}))},setupScores:function(e){return"object"==c(e)?null==e?void 0:e.map((function(e){return{id:e[0].score,label:e[1].label}})):[]},create:function(){var e=this;this.form.post("/api/missions/details/"+this.mission.id).then((function(t){t.data.status?(swal.toast_success(t.data.message),e.initData()):swal.alert_error(t.data.message)})).catch((function(e){var t=e.message;422==e.response.status&&(t="Les données fournies sont invalides."),swal.toast_error(t)}))},addRow:function(e,t){t=this.setupFields(t);for(var s=[],r=0;r<t.length;r++){var a,o=t[r],i=o.name,n=void 0!==o.default&&o.default;n=o.multiple?[]:"",s.push((u(a={},i,n),u(a,"label",o.label),u(a,"rules",o.rules),a))}this.form.rows[e].metadata&&this.form.rows[e].metadata.push(s)},removeRow:function(e,t){this.form.rows[e].metadata.splice(t,1)},isInput:function(e){return["text","date","datetime","time","week","number","tel","email","month","url"].includes(e)}}};const f=(0,s(1900).Z)(m,(function(){var e=this,t=e._self._c;return e.isCompleted?t("div",{directives:[{name:"can",rawName:"v-can",value:"view_mission_detail",expression:"'view_mission_detail'"}]},[t("ContentHeader",{scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"tags w-90"},[t("span",{staticClass:"tag is-info"},[e._v(e._s(e.details[0].familly.name))]),e._v(" "),t("span",{staticClass:"tag"},[e._v(e._s(e.details[0].domain.name))]),e._v(" "),t("span",{staticClass:"tag is-warning"},[e._v(e._s(e.details[0].process.name))])])]},proxy:!0},{key:"actions",fn:function(){var s,r,a;return[null!==(s=e.mission)&&void 0!==s&&null!==(r=s.dre_report)&&void 0!==r&&r.is_validated?e._e():t("button",{directives:[{name:"can",rawName:"v-can",value:"edit_mission,control_agency,create_dre_report,validate_dre_report",expression:"'edit_mission,control_agency,create_dre_report,validate_dre_report'"}],staticClass:"btn btn-warning my-6",on:{click:function(t){return e.switchToExeMode()}}},[t("i",{staticClass:"las la-pen"})]),e._v(" "),null!==(a=e.mission)&&void 0!==a&&a.cdcr_validation_at?e._e():t("button",{directives:[{name:"can",rawName:"v-can",value:"process_mission",expression:"'process_mission'"}],staticClass:"btn btn-warning my-6",on:{click:function(t){return e.switchToExeMode()}}},[t("i",{staticClass:"las la-check"})])]},proxy:!0}])}),e._v(" "),t("ContentBody",[t("div",{staticClass:"grid"},e._l(e.details,(function(s){return t("div",{key:s.id,staticClass:"col-12"},[t("div",{staticClass:"box"},[t("div",{staticClass:"grid gap-4"},[t("div",{staticClass:"col-12"},[t("h3",[e._v(e._s(s.control_point.name))])]),e._v(" "),t("div",{staticClass:"col-4"},[t("b",[e._v("Fait majeur:")])]),e._v(" "),t("div",{staticClass:"col-8"},[s.major_fact?t("span",[t("i",{staticClass:"las la-times-circle icon text-danger"}),e._v("\n                  Oui\n                ")]):t("span",[t("i",{staticClass:"las la-check-circle icon text-success"}),e._v("\n                  Non\n                ")])]),e._v(" "),t("div",{staticClass:"col-4"},[t("b",[e._v("Appréciation:")])]),e._v(" "),t("div",{staticClass:"col-8"},[e._v(e._s(s.appreciation))]),e._v(" "),t("div",{staticClass:"col-4"},[t("b",[e._v("Constat:")])]),e._v(" "),t("div",{staticClass:"col-8"},[e._v(e._s(s.report||"-"))]),e._v(" "),t("div",{staticClass:"col-4"},[t("b",[e._v("Plan de redressement:")])]),e._v(" "),t("div",{staticClass:"col-8"},[e._v(e._s(s.recovery_plan||"-"))]),e._v(" "),t("div",{staticClass:"col-12 d-flex justify-end align-center"},[t("button",{staticClass:"btn btn-info has-icon",on:{click:function(t){return e.show(s)}}},[t("i",{staticClass:"las la-eye icon"}),e._v("\n                  Voir plus\n                ")])])])])])})),0),e._v(" "),t("NLModal",{attrs:{show:e.rowSelected},on:{close:e.close},scopedSlots:e._u([{key:"title",fn:function(){var s,r,a;return[t("small",{staticClass:"tag is-info text-small"},[e._v("\n            "+e._s(null===(s=e.rowSelected)||void 0===s?void 0:s.familly.name)+"\n          ")]),e._v(" "),t("small",{staticClass:"tag is-primary-dark text-small mx-1"},[e._v("\n            "+e._s(null===(r=e.rowSelected)||void 0===r?void 0:r.domain.name)+"\n          ")]),e._v(" "),t("small",{staticClass:"tag is-warning text-small"},[e._v("\n            "+e._s(null===(a=e.rowSelected)||void 0===a?void 0:a.process.name)+"\n          ")])]},proxy:!0},{key:"default",fn:function(){var s,r,a,o,i,n,l,c,d;return[t("p",{staticClass:"text-bold mb-6"},[e._v("\n            "+e._s(null===(s=e.rowSelected)||void 0===s?void 0:s.control_point.name)+"\n          ")]),e._v(" "),t("div",{staticClass:"grid list"},[t("div",{staticClass:"col-12 list-item"},[t("div",{staticClass:"list-item-content no-bg grid"},[t("div",{staticClass:"col-4"},[t("b",[e._v("Fait majeur:")])]),e._v(" "),t("div",{staticClass:"col-8"},[null!==(r=e.rowSelected)&&void 0!==r&&r.major_fact?t("span",[t("i",{staticClass:"las la-times-circle icon text-danger"}),e._v("\n                    Oui\n                  ")]):t("span",[t("i",{staticClass:"las la-check-circle icon text-success"}),e._v("\n                    Non\n                  ")])])])]),e._v(" "),t("div",{staticClass:"col-12 list-item"},[t("div",{staticClass:"list-item-content no-bg grid"},[t("div",{staticClass:"col-4"},[t("b",[e._v("Appréciation:")])]),e._v(" "),t("div",{staticClass:"col-8"},[e._v(e._s(null===(a=e.rowSelected)||void 0===a?void 0:a.appreciation))])])]),e._v(" "),t("div",{staticClass:"col-12 list-item"},[t("div",{staticClass:"list-item-content no-bg grid"},[t("div",{staticClass:"col-4"},[t("b",[e._v("Constat:")])]),e._v(" "),t("div",{staticClass:"col-8"},[e._v(e._s((null===(o=e.rowSelected)||void 0===o?void 0:o.report)||"-"))])])]),e._v(" "),t("div",{staticClass:"col-12 list-item"},[t("div",{staticClass:"list-item-content no-bg grid"},[t("div",{staticClass:"col-4"},[t("b",[e._v("Plan de redressement:")])]),e._v(" "),t("div",{staticClass:"col-8"},[e._v(e._s((null===(i=e.rowSelected)||void 0===i?void 0:i.recovery_plan)||"-"))])])]),e._v(" "),t("div",{staticClass:"col-12 list-item"},[t("div",{staticClass:"list-item-content no-bg grid"},[t("div",{staticClass:"col-12",class:{"col-lg-4":!(null!==(n=e.rowSelected)&&void 0!==n&&n.metadata)}},[t("b",[e._v("Informations supplémentaires:")])]),e._v(" "),t("div",{staticClass:"col-12",class:{"col-lg-8":!(null!==(l=e.rowSelected)&&void 0!==l&&l.metadata)}},[null!==(c=e.rowSelected)&&void 0!==c&&c.metadata?t("table",[t("thead",[t("tr",e._l(e.currentMetadata.keys,(function(s){return t("th",{staticClass:"text-left"},[e._v("\n                          "+e._s(s)+"\n                        ")])})),0)]),e._v(" "),t("tbody",e._l(null===(d=e.rowSelected)||void 0===d?void 0:d.metadata,(function(s,r){return t("tr",{key:"metadata-row-"+r},e._l(s,(function(s,a){return t("td",{key:"metadata-row-"+r+"-item-"+a,staticClass:"text-left"},e._l(s,(function(s,o){return"label"!==o&&"rules"!==o?t("span",{key:"metadata-row-"+r+"-item-"+a+"-content"},[e._v("\n                            "+e._s(s||"-")+"\n                          ")]):e._e()})),0)})),0)})),0)]):t("span",[e._v("-")])])])])])]},proxy:!0}])})],1)],1):t("ContentBody",{directives:[{name:"can",rawName:"v-can",value:"control_agency,process_mission,create_dre_report,validate_dre_report",expression:"'control_agency,process_mission,create_dre_report,validate_dre_report'"}]},[e.form.errors.any()?t("Notification",{attrs:{type:"is-danger"}},[e._v("\n      Il y a "+e._s(e.formErrorsCount)+"\n      "+e._s(e.formErrorsCount>1?"problèmes avec vos entrées":"problème avec une entrée")+".\n    ")]):e._e(),e._v(" "),t("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.create.apply(null,arguments)},keydown:function(t){return e.form.onKeydown(t)}}},[e._l(e.details,(function(s,r){return t("div",{key:"detail-"+r,staticClass:"grid my-2 form-row"},[t("div",{staticClass:"col-10"},[t("h2",{staticClass:"text-medium"},[e._v(e._s(null==s?void 0:s.control_point.name))])]),e._v(" "),t("div",{staticClass:"col-2"},[t("NLSwitch",{attrs:{name:"rows."+r+".major_fact",form:e.form,label:"Fait majeur"},model:{value:e.form.rows[r].major_fact,callback:function(t){e.$set(e.form.rows[r],"major_fact",t)},expression:"form.rows[row].major_fact"}})],1),e._v(" "),t("div",{staticClass:"col-12"},[t("NLSelect",{attrs:{name:"rows."+r+".score",label:"Notation",form:e.form,options:e.setupScores(s.control_point.scores),labelRequired:""},model:{value:e.form.rows[r].score,callback:function(t){e.$set(e.form.rows[r],"score",t)},expression:"form.rows[row].score"}})],1),e._v(" "),s.control_point.fields&&e.form.rows[r].score>1?t("div",{staticClass:"col-12"},[t("div",{staticClass:"repeater"},[t("h2",{staticClass:"mb-6"},[e._v("Informations supplémentaires")]),e._v(" "),e._l(e.form.rows[r].metadata,(function(a,o){return t("div",{key:"metadata-"+o+"row-"+r,staticClass:"grid my-6 repeater-row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"grid gap-2"},[t("div",{staticClass:"col-11"},[t("div",{staticClass:"grid"},e._l(e.setupFields(s.control_point.fields),(function(s,a){return t("div",{key:"metadata-input-"+s.name+"-"+o+"-id",class:s.style},[e.isInput(s.type)?t("NLInput",{attrs:{form:e.form,label:s.label,placeholder:s.placeholder,type:s.type,labelRequired:s.required,name:"rows."+r+".metadata."+o+"."+a+"."+s.name,id:"rows."+r+".metadata."+o+"."+a+"."+s.name},model:{value:e.form.rows[r].metadata[o][a][s.name],callback:function(t){e.$set(e.form.rows[r].metadata[o][a],s.name,t)},expression:"form.rows[row].metadata[dataRow][index][input.name]"}}):e._e(),e._v(" "),"textarea"==s.type?t("NLTextarea",{attrs:{form:e.form,label:s.label,placeholder:s.placeholder,type:s.type,labelRequired:s.required,name:"rows."+r+".metadata."+o+"."+a+"."+s.name,id:"rows."+r+".metadata."+o+"."+a+"."+s.name,length:s.length},model:{value:e.form.rows[r].metadata[o][a][s.name],callback:function(t){e.$set(e.form.rows[r].metadata[o][a],s.name,t)},expression:"form.rows[row].metadata[dataRow][index][input.name]"}}):e._e(),e._v(" "),"wyswyg"==s.type?t("NLWyswyg",{attrs:{form:e.form,label:s.label,placeholder:s.placeholder,type:s.type,labelRequired:s.required,name:"rows."+r+".metadata."+o+"."+a+"."+s.name,id:"rows."+r+".metadata."+o+"."+a+"."+s.name,length:s.length},model:{value:e.form.rows[r].metadata[o][a][s.name],callback:function(t){e.$set(e.form.rows[r].metadata[o][a],s.name,t)},expression:"form.rows[row].metadata[dataRow][index][input.name]"}}):e._e(),e._v(" "),"select"==s.type?t("NLSelect",{attrs:{form:e.form,label:s.label,type:s.type,labelRequired:s.required,name:"rows."+r+".metadata."+o+"."+a+"."+s.name,id:"rows."+r+".metadata."+o+"."+a+"."+s.name,options:s.options,placeholder:s.placeholder||"Choisissez une option...",multiple:s.multiple},model:{value:e.form.rows[r].metadata[o][a][s.name],callback:function(t){e.$set(e.form.rows[r].metadata[o][a],s.name,t)},expression:"form.rows[row].metadata[dataRow][index][input.name]"}}):e._e()],1)})),0)]),e._v(" "),r>=0?t("div",{staticClass:"col-1 p-0 d-flex justify-start align-center"},[t("div",{staticClass:"btn btn-danger",on:{click:function(t){return e.removeRow(r,o)}}},[e._v("\n                      Supprimer\n                    ")])]):e._e()])])])})),e._v(" "),t("div",{staticClass:"d-flex justify-start align-center"},[t("span",{staticClass:"btn",on:{click:function(t){return e.addRow(r,s.control_point.fields)}}},[t("i",{staticClass:"las la-plus"})])])],2)]):e._e(),e._v(" "),t("div",{staticClass:"col-12"},[t("NLTextarea",{attrs:{name:"rows."+r+".report",label:"Constat",form:e.form,placeholder:1==e.form.rows[r].score||null==e.form.rows[r].score&&!e.form.rows[r].major_fact?"":"Ajouter votre constat",labelRequired:e.form.rows[r].score>1||e.form.rows[r].major_fact,disabled:1==e.form.rows[r].score||null==e.form.rows[r].score&&!e.form.rows[r].major_fact},model:{value:e.form.rows[r].report,callback:function(t){e.$set(e.form.rows[r],"report",t)},expression:"form.rows[row].report"}})],1),e._v(" "),t("div",{staticClass:"col-12"},[t("NLFile",{attrs:{name:"rows."+r+".media",label:"Pièces jointes",attachableType:"App\\Models\\MissionDetail",attachableId:e.form.rows[r].detail,form:e.form,multiple:""},model:{value:e.form.rows[r].media,callback:function(t){e.$set(e.form.rows[r],"media",t)},expression:"form.rows[row].media"}})],1),e._v(" "),t("div",{staticClass:"col-12"},[t("NLTextarea",{attrs:{name:"rows."+r+".recovery_plan",label:"Plan de redressement",form:e.form,placeholder:1==e.form.rows[r].score||null==e.form.rows[r].score&&!e.form.rows[r].major_fact?"":"Ajouter votre plan de redressement",labelRequired:e.form.rows[r].score>1||e.form.rows[r].major_fact,disabled:1==e.form.rows[r].score||null==e.form.rows[r].score&&!e.form.rows[r].major_fact},model:{value:e.form.rows[r].recovery_plan,callback:function(t){e.$set(e.form.rows[r],"recovery_plan",t)},expression:"form.rows[row].recovery_plan"}})],1)])})),e._v(" "),t("div",{staticClass:"d-flex justify-end align-center"},[this.form.process_mode?t("NLButton",{staticClass:"is-radius",attrs:{loading:e.form.busy,label:"Validate"}}):t("NLButton",{staticClass:"is-radius",attrs:{loading:e.form.busy,label:"Save"}})],1)],2)],1)}),[],!1,null,null,null).exports}}]);